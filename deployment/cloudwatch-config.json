{
  "agent": {
    "metrics": {
      "namespace": "BV-Backend/Application",
      "metrics_collected": {
        "cpu": {
          "measurement": [
            "cpu_usage_idle",
            "cpu_usage_iowait",
            "cpu_usage_user",
            "cpu_usage_system"
          ],
          "metrics_collection_interval": 60,
          "totalcpu": true
        },
        "disk": {
          "measurement": [
            "used_percent"
          ],
          "metrics_collection_interval": 60,
          "resources": [
            "*"
          ]
        },
        "diskio": {
          "measurement": [
            "io_time",
            "read_bytes",
            "write_bytes",
            "reads",
            "writes"
          ],
          "metrics_collection_interval": 60,
          "resources": [
            "*"
          ]
        },
        "mem": {
          "measurement": [
            "mem_used_percent"
          ],
          "metrics_collection_interval": 60
        },
        "netstat": {
          "measurement": [
            "tcp_established",
            "tcp_time_wait"
          ],
          "metrics_collection_interval": 60
        },
        "swap": {
          "measurement": [
            "swap_used_percent"
          ],
          "metrics_collection_interval": 60
        }
      }
    },
    "logs": {
      "logs_collected": {
        "files": {
          "collect_list": [
            {
              "file_path": "/var/log/nginx/access.log",
              "log_group_name": "/aws/ec2/bv-backend/nginx/access",
              "log_stream_name": "{instance_id}-nginx-access"
            },
            {
              "file_path": "/var/log/nginx/error.log",
              "log_group_name": "/aws/ec2/bv-backend/nginx/error",
              "log_stream_name": "{instance_id}-nginx-error"
            },
            {
              "file_path": "/var/www/bv-backend/logs/app.log",
              "log_group_name": "/aws/ec2/bv-backend/application",
              "log_stream_name": "{instance_id}-app"
            },
            {
              "file_path": "/var/log/syslog",
              "log_group_name": "/aws/ec2/bv-backend/system",
              "log_stream_name": "{instance_id}-syslog"
            }
          ]
        }
      }
    }
  }
}
